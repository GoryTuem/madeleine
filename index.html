<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í˜œë¦¬ë‹˜ í”„ë¡œí•„</title>
    <link rel="stylesheet" href="./assets/style.css" />
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  </head>
  <body>
    <div class="container" id="profile-card">
      <h1><mark>ë§ˆë“¤ë Œ</mark></h1>

      <div class="card">
        <section>
          <div class="photos">
            <img src="../assets/ìœ¤íƒœí˜„_0.png" alt="Photo 1" width="150" />
            <img src="../assets/ìœ¤íƒœí˜„_1.png" alt="Photo 2" width="150" />
          </div>
        </section>
        <section>
          <h2>Personal Info ğŸ§</h2>

          <ul>
            <li>1994ë…„, ì„œìš¸ì‹œ ê´€ì•…êµ¬, ëŒ€í•™êµ ì¡¸ì—… (4ë…„),</li>
            <li>175cm, ISFJ,</li>
            <li>ìŒì£¼ ê±°ì˜ ì•ˆ ë§ˆì‹ ë‹¤, ë¹„í¡ì—°</li>
          </ul>
        </section>

        <section>
          <h2>What I do ğŸ§˜â€â™€ï¸</h2>
          <ul>
            <li>í˜„ì¬ ì§ì¥ì€ ITíšŒì‚¬/PMì§êµ° ,</li>
            <li>ğŸ’¸ ì—°ë´‰ 4,000 ~ 6,000 ë§Œì› ë¯¸ë§Œ ì •ê·œì§</li>
            <li>ì£¼ 5ì¼</li>
          </ul>
        </section>

        <section>
          <h2>Hobbies ğŸ‘Ÿ</h2>
          <ul>
            <li>ìµœê·¼ ê´€ì‹¬ì‚¬, ì·¨ë¯¸ìƒí™œì€ í—¬ìŠ¤, ë¶€ë™ì‚° ê³µë¶€</li>
          </ul>
        </section>
      </div>
    </div>
  </body>
  <button onclick="saveImage()">ì´ë¯¸ì§€ë¡œ ì €ì¥</button>
</html>
<script>
  function saveImage() {
    const pathSegments = window.location.pathname.split("/").filter(Boolean);
    const folderName =
      pathSegments.length > 0
        ? pathSegments[pathSegments.length - 1]
        : "download";

    html2canvas(document.querySelector("#profile-card"), {
      scale: 2,
      useCORS: false,
      allowTaint: true, // ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ë¡œ ì¸í•´ ìº”ë²„ìŠ¤ ì˜¤ì—¼ í—ˆìš© (ë¡œì»¬ ì´ë¯¸ì§€ì¼ ê²½ìš° ë¬¸ì œ ì—†ìŒ)
    }).then((canvas) => {
      const now = new Date();

      const link = document.createElement("a");
      // í˜„ì¬ í˜ì´ì§€ URL ê²½ë¡œì˜ ë§ˆì§€ë§‰ í´ë”ëª… + ì‹œê°„ ì¡°í•©ìœ¼ë¡œ íŒŒì¼ëª… ì„¤ì •
      link.download = `${folderName}_${now.getFullYear()}${(now.getMonth() + 1)
        .toString()
        .padStart(2, "0")}${now.getDate().toString().padStart(2, "0")}.png`;
      link.href = canvas.toDataURL();
      link.click();
    });
  }
</script>
